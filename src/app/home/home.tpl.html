<nav role="navigation">
    <form>
        <button hm-tap="addList()" class="btn btn-default">{{'ADD_LIST' | translate}}</button>
        <button hm-tap="logout()" class="btn btn-default">{{'LOGOUT' | translate}}</button>
    </form>
    <br>
    <form role="search" ng-submit="addCustomProductToList(productSearchQuery)">
        <div class="form-group">
            <input ng-model="productSearchQuery" class="form-control" placeholder="{{'SEARCH' | translate}}...">
        </div>
    </form>
</nav>

<div id="outer">
    <!--Filtered products-->
    <div class="product-list" ng-show="productSearchQuery">
        <button class="product" hm-tap="addCustomProductToList(productSearchQuery)">{{capitalizeString(productSearchQuery)}}</button>
        <button class="product" ng-repeat="product in allProducts | filter:productSearchQuery | limitTo:15 | orderBy:'category_id' | orderBy:'name'" hm-tap="addProductToList(product)" ng-hide="isProductInList(product)">
            {{product.name}}
        </button>
    </div>
    
    <!--Carousel of lists-->
    <div class="my-list">
        <!--List Detail-->
        <div ng-include src="'list/list.tpl.html'"></div>
        
        <div ng-show="showMe">
            <ul class="list-carousel" rn-carousel rn-carousel-indicator rn-carousel-index="currentListIndex">
                <li ng-repeat="list in lists">
                    <!--Name of current list-->
                    <h3 hm-tap="editList($index)" style="display:inline">{{list.name || 'UNTITLED' | translate}}</h3>
                    <ul class="users-of-list">
                        <li ng-repeat="user in list.users">{{user.name.split(' ')[0]}}</li>
                    </ul>

                    <!--Shopping list-->
                    <div class="product-list selected" ng-hide="list.products.length === 0">
                        <button class="product" ng-repeat="product in list.products | orderBy:'category_id' | orderBy:'name'" hm-tap="removeProductFromList(product)">
                            {{product.name}}
                        </button>
                    </div>
                    <div ng-show="list.products.length === 0" class="help-block">{{'LIST_EMPTY' | translate}}.</div>
                </li>
            </ul>
            <div class="text-center shift-list-block">
                <button class="btn btn-default" hm-tap="moveListOnePosition(-1)"><i class="fa fa-angle-double-left"></i> {{'SHIFT_LEFT' | translate}}</button>
                <button class="btn btn-default" hm-tap="moveListOnePosition(1)">{{'SHIFT_RIGHT' | translate}} <i class="fa fa-angle-double-right"></i></button>
            </div>
        </div>
    </div>
</div>
